<?xml version="1.0"?>
<!-- This file is part of Tryton.  The COPYRIGHT file at the top level of
this repository contains the full copyright notices and license terms. -->
<tryton>
    <data>

        <!-- group: to edit employees -->
        <record model="res.group" id="group_employee_admin">
            <field name="name">Timetracking - Edit Employees</field>
        </record>

        <!-- group member: administrator -->
        <record model="res.user-res.group" 
                id="user_admin_group-group_employee_admin">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>

        <!-- menu /timetracking -->
        <record model="ir.ui.menu-res.group" 
                id="menu_timetracking-group_employee_admin">
            <field name="menu" ref="menu_timetracking"/>
            <field name="group" ref="group_employee_admin"/>
        </record>

        <!-- wizard: Create/Edit Employee -->
        <record model="ir.action-res.group" 
                id="act_createemployee_wizard-group_employee_admin">
            <field name="action" ref="act_createemployee_wizard"/>
            <field name="group" ref="group_employee_admin"/>
        </record>
        <record model="ir.action-res.group" 
                id="act_createemployee_edit_wizard-group_employee_admin">
            <field name="action" ref="act_createemployee_edit_wizard"/>
            <field name="group" ref="group_employee_admin"/>
        </record>
        <!-- menu: create Employee -->
        <record model="ir.ui.menu-res.group" 
                id="menu_createemployee_wiz-group_employee_admin">
            <field name="menu" ref="menu_createemployee_wiz"/>
            <field name="group" ref="group_employee_admin"/>
        </record>


        <!-- permission: edit user -->
        <record model="ir.model.access" id="access_user_edit">
            <field name="model" search="[('model', '=', 'res.user')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- permission: edit groups -->
        <record model="ir.model.access" id="access_group_edit">
            <field name="model" search="[('model', '=', 'res.group')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>


        <!-- table: type of presence -->
        <record model="ir.model.access" id="access_presence_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_presence_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_presence_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_presence_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_presence_employeeadmin-group_employee_admin">
            <field name="rule_group" ref="rule_group_presence_employeeadmin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>


        <!-- table: break time rule -->
        <record model="ir.model.access" id="access_breaktime_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.breaktime')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_breaktime_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.breaktime')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_breaktime_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('tariff.company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_breaktime_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_breaktime_employeeadmin-group_employee_admin">
            <field name="rule_group" ref="rule_group_breaktime_employeeadmin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>


        <!-- table: accountrule -->
        <record model="ir.model.access" id="access_accountrule_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.accountrule')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_accountrule_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.accountrule')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_accountrule_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_accountrule_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_accountrule_employeeadmin-group_employee_admin">
            <field name="rule_group" ref="rule_group_accountrule_employeeadmin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>


        <!-- table: tariffmodel -->
        <record model="ir.model.access" id="access_tariffmodel_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.tariffmodel')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_tariffmodel_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.tariffmodel')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_tariffmodel_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_tariffmodel_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_tariffmodel_employeeadmin-group_employee_admin">
            <field name="rule_group" ref="rule_group_tariffmodel_employeeadmin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>


        <!-- relation: tariffmodel - presence -->
        <record model="ir.model.access" id="access_presencerel_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence_rel')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>


        <!-- time account -->
        <record model="ir.model.access" id="access_timeaccount_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.timeaccount')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_timeaccount_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.timeaccount')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_timeaccount_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_timeaccount_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_timeaccount_employeeadmin-group_timetracking_employee">
            <field name="rule_group" ref="rule_group_timeaccount_employeeadmin"/>
            <field name="group" ref="group_timetracking_employee"/>
        </record>


        <!-- table: employee -->
        <!-- menu -->
        <record model="ir.ui.menu-res.group" 
                id="menu_employee_form-group_employee_admin">
            <field name="menu" ref="menu_employee_form"/>
            <field name="group" ref="group_employee_admin"/>
        </record>
        <!-- permission -->
        <record model="ir.model.access" id="access_employee_admin">
            <field name="model" search="[('model', '=', 'company.employee')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- read to non-members -->
        <record model="ir.rule.group" id="rule_group_employee_read">
            <field name="model" search="[('model', '=', 'company.employee')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="True"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_employee_read_line1">
            <field name="domain" pyson="1" eval="[]" />
            <field name="rule_group" ref="rule_group_employee_read"/>
        </record>
        <!-- write to members -->
        <record model="ir.rule.group" id="rule_group_employee_admin">
            <field name="model" search="[('model', '=', 'company.employee')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_employee_admin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_employee_admin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_employee_admin-group_employee_admin">
            <field name="rule_group" ref="rule_group_employee_admin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>

        <!-- holiday -->
        <!-- read to employee-admin -->
        <record model="ir.model.access" id="access_holiday_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.holiday')]"/>
            <field name="group" ref="group_employee_admin"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_holiday_employeeadmin">
            <field name="model" search="[('model', '=', 'employee_timetracking.holiday')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_holiday_employeeadmin_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_holiday_employeeadmin"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_holiday_employeeadmin-group_employee_admin">
            <field name="rule_group" ref="rule_group_holiday_employeeadmin"/>
            <field name="group" ref="group_employee_admin"/>
        </record>

        <!-- evaluation -->
        <!-- evaluation item -->
        <!-- worktimemodel/rule -->
        <!-- days of year-->
        <!-- no access to edit_employee -->

    </data>
</tryton>

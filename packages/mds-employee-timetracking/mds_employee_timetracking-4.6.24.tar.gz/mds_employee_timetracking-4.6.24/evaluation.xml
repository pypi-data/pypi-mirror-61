<?xml version="1.0"?>
<!-- This file is part of Tryton.  The COPYRIGHT file at the top level of
this repository contains the full copyright notices and license terms. -->
<tryton>
    <data>

        <!-- forms -->
        <record model="ir.ui.view" id="evaluation_view_form">
            <field name="model">employee_timetracking.evaluation</field>
            <field name="type">form</field>
            <field name="name">evaluation_form</field>
        </record>
        <record model="ir.ui.view" id="evaluation_view_tree">
            <field name="model">employee_timetracking.evaluation</field>
            <field name="type">tree</field>
            <field name="name">evaluation_tree</field>
        </record>

        <!-- action view -->
        <record model="ir.action.act_window" id="act_evaluation_form">
            <field name="name">Evaluation</field>
            <field name="res_model">employee_timetracking.evaluation</field>
        </record>
        <record model="ir.action.act_window.view" id="act_evaluation_form1">
            <field name="sequence" eval="10"/>
            <field name="view" ref="evaluation_view_tree"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>
        <record model="ir.action.act_window.view" id="act_evaluation_form2">
            <field name="sequence" eval="20"/>
            <field name="view" ref="evaluation_view_form"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>

        <!-- menu item -->
        <menuitem  action="act_evaluation_form" parent="menu_timetracking"
                id="menu_evaluation" icon="mds-timetracking-linedpaperpen"
                sequence="80"/>

        <!-- wizard: recalculate -->
        <record model="ir.action.wizard" id="wizard_recalc_evaluation">
            <field name="name">Recalculate evaluation</field>
            <field name="wiz_name">employee_timetracking.recalc_evaluation</field>
        </record>
        <record model="ir.action.keyword" id="wizard_recalc_evaluation_keyword1">
            <field name="keyword">form_action</field>
            <field name="model">employee_timetracking.evaluation,-1</field>
            <field name="action" ref="wizard_recalc_evaluation"/>
        </record>

        <!-- filter for current month/last month/all -->
        <record model="ir.action.act_window.domain" id="act_evaluation_form_currentmonth">
            <field name="name">current month</field>
            <field name="sequence" eval="10"/>
            <field name="domain" eval="[('state_month', '=', 0)]" pyson="1"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_evaluation_form_lastmonth">
            <field name="name">last month</field>
            <field name="sequence" eval="20"/>
            <field name="domain" eval="[('state_month', '=', 1)]" pyson="1"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_evaluation_form_currentyear">
            <field name="name">current year</field>
            <field name="sequence" eval="30"/>
            <field name="domain" eval="[('state_year', '=', 0)]" pyson="1"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_evaluation_form_lastyear">
            <field name="name">last year</field>
            <field name="sequence" eval="40"/>
            <field name="domain" eval="[('state_year', '=', 1)]"  pyson="1"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>
        <record model="ir.action.act_window.domain" id="act_evaluation_form_all">
            <field name="name">all</field>
            <field name="sequence" eval="99"/>
            <field name="domain"/>
            <field name="act_window" ref="act_evaluation_form"/>
        </record>

        <!-- deny access -->
        <record model="ir.model.access" id="access_evaluation_anon">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluation')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_evaluation_anon">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluation')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="True"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_evaluation_anon_line1">
            <field name="domain" pyson="1" eval="[]" />
            <field name="rule_group" ref="rule_group_evaluation_anon"/>
        </record>
        <!-- field access - evaluation-->
        <record model="ir.model.field.access" id="access_field-evaluation-employee-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'employee')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-evaldate-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'evaldate')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-state-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'state')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-worktimerule-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'worktimerule')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-breaktimerule-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'breaktimerule')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-accountitems-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'accountitems')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-vacationdays-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'vacationdays')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-payed_out-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'payed_out')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-bal_current_month-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'bal_current_month')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-days-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'days')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-evalitem-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'evalitem')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-needs_recalc-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'needs_recalc')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-recalc_at-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'recalc_at')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluation-sickdays-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluation'), ('name', '=', 'sickdays')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>



        <!-- evaluation item -->
        <!-- forms -->
        <record model="ir.ui.view" id="evaluationitem_view_form">
            <field name="model">employee_timetracking.evaluationitem</field>
            <field name="type">form</field>
            <field name="name">evaluationitem_form</field>
        </record>
        <record model="ir.ui.view" id="evaluationitem_view_tree">
            <field name="model">employee_timetracking.evaluationitem</field>
            <field name="type">tree</field>
            <field name="name">evaluationitem_tree</field>
        </record>

        <!-- action view -->
        <record model="ir.action.act_window" id="act_evaluationitem_form">
            <field name="name">Time account</field>
            <field name="res_model">employee_timetracking.evaluationitem</field>
        </record>
        <record model="ir.action.act_window.view" id="act_evaluationitem_form1">
            <field name="sequence" eval="10"/>
            <field name="view" ref="evaluationitem_view_tree"/>
            <field name="act_window" ref="act_evaluationitem_form"/>
        </record>
        <record model="ir.action.act_window.view" id="act_evaluationitem_form2">
            <field name="sequence" eval="20"/>
            <field name="view" ref="evaluationitem_view_form"/>
            <field name="act_window" ref="act_evaluationitem_form"/>
        </record>

        <!-- permissions for 'evaluation item' -->
        <!-- deny access -->
        <record model="ir.model.access" id="access_evaluationitem_anon">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluationitem')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_evaluationitem_anon">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluationitem')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="True"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_delete" eval="False"/>
        </record>
        <record model="ir.rule" id="rule_group_evaluationitem_anon_line1">
            <field name="domain" pyson="1" eval="[]" />
            <field name="rule_group" ref="rule_group_evaluationitem_anon"/>
        </record>
        <!-- field permission -->
        <record model="ir.model.field.access" id="access_field-evaluationitem-evaluation-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'evaluation')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluationitem-account-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'account')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluationitem-balancestart-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'balancestart')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluationitem-balstartmanu-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'balstartmanu')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluationitem-balancediff-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'balancediff')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>
        <record model="ir.model.field.access" id="access_field-evaluationitem-payed_out-anon">
            <field name="field"
                search="[('model.model', '=', 'employee_timetracking.evaluationitem'), ('name', '=', 'payed_out')]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

    </data>
</tryton>

<?xml version="1.0"?>
<!-- This file is part of Tryton.  The COPYRIGHT file at the top level of
this repository contains the full copyright notices and license terms. -->
<tryton>
    <data>

        <!-- group: to edit tariff model -->
        <record model="res.group" id="group_tariff_edit">
            <field name="name">Timetracking - Edit Tariff</field>
        </record>

        <!-- group member: administrator -->
        <record model="res.user-res.group" 
                id="user_admin_group-group_tariff_edit">
            <field name="user" ref="res.user_admin"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- show menu -->
        <record model="ir.ui.menu-res.group" 
                id="menu_timetracking-group_tariff_edit">
            <field name="menu" ref="menu_timetracking"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>
        <record model="ir.ui.menu-res.group" 
                id="menu_cfg_timetracking-group_tariff_edit">
            <field name="menu" ref="menu_cfg_timetracking"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        
        <!-- table: type of presence -->
        <!-- menu -->
        <record model="ir.ui.menu-res.group" 
                id="menu_config_presence-group_tariff_edit">
            <field name="menu" ref="menu_config_presence"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>
        <!-- permission -->
        <record model="ir.model.access" id="access_presence_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_presence_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_presence_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_presence_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_presence_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_presence_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>


        <!-- table: break time rule -->
        <!-- permission -->
        <record model="ir.model.access" id="access_breaktime_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.breaktime')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_breaktime_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.breaktime')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_breaktime_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('tariff.company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_breaktime_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_breaktime_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_breaktime_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- table: accountrule -->
        <!-- permission -->
        <record model="ir.model.access" id="access_accountrule_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.accountrule')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_accountrule_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.accountrule')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_accountrule_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_accountrule_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_accountrule_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_accountrule_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- table: tariffmodel -->
        <!-- menu -->
        <record model="ir.ui.menu-res.group" 
                id="menu_config_tariffmodel-group_tariff_edit">
            <field name="menu" ref="menu_config_tariffmodel"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>
        <!-- permission -->
        <record model="ir.model.access" id="access_tariffmodel_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.tariffmodel')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_tariffmodel_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.tariffmodel')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_tariffmodel_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_tariffmodel_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_tariffmodel_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_tariffmodel_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- relation: tariffmodel - presence -->
        <record model="ir.model.access" id="access_presencerel_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.presence_rel')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>


        <!-- time account -->
        <record model="ir.model.access" id="access_timeaccount_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.timeaccount')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_timeaccount_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.timeaccount')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_timeaccount_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_timeaccount_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_timeaccount_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_timeaccount_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>


        <!-- evaluation -->
        <!-- evaluation-holidays -->
        <!-- evaluation item -->
        <!-- no access to tariff_edit -->

        <!-- work time model -->
        <!-- write to tariff_edit -->
        <record model="ir.model.access" id="access_worktimemodel_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.worktimemodel')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_worktimemodel_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.worktimemodel')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_worktimemodel_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_worktimemodel_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_worktimemodel_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_worktimemodel_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>


        <!-- work time rule -->
        <!-- readonly to employee -->
        <record model="ir.model.access" id="access_worktimerule_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.worktimerule')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_worktimerule_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.worktimerule')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_worktimerule_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('wtmodel.company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_worktimerule_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_worktimerule_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_worktimerule_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- holiday -->
        <!-- write to tariff edit -->
        <record model="ir.model.access" id="access_holiday_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.holiday')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_holiday_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.holiday')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_holiday_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_holiday_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_holiday_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_holiday_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>


        <!-- days of year -->
        <!-- write to tariff-edit -->
        <record model="ir.model.access" id="access_dayofeval_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluation-dayofyear')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <!-- access rule group -->
        <record model="ir.rule.group" id="rule_group_dayofeval_tariffedit">
            <field name="model" search="[('model', '=', 'employee_timetracking.evaluation-dayofyear')]"/>
            <field name="global_p" eval="False"/>
            <field name="default_p" eval="False"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>
        <record model="ir.rule" id="rule_group_dayofeval_tariffedit_line1">
            <field name="domain" pyson="1" 
                eval="[('evaluation.employee.company', '=', Eval('user', {}).get('company', None))]" />
            <field name="rule_group" ref="rule_group_dayofeval_tariffedit"/>
        </record>
        <record model="ir.rule.group-res.group" 
                id="rule_group_dayofeval_tariffedit-group_tariff_edit">
            <field name="rule_group" ref="rule_group_dayofeval_tariffedit"/>
            <field name="group" ref="group_tariff_edit"/>
        </record>

        <!-- colors -->
        <!-- write access to group_tariff_edit -->
        <record model="ir.model.access" id="access_colors-group_tariff_edit">
            <field name="model" search="[('model', '=', 'employee_timetracking.colors')]"/>
            <field name="group" ref="group_tariff_edit"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_delete" eval="True"/>
        </record>

    </data>
</tryton>

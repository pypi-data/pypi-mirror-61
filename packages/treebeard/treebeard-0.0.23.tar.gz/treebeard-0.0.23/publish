#!/bin/bash

# Publishes treebeard to pypi, remember to bump the version number
# NOTE: Any dependencies listed in Pipfile other than this package will fail
# to install for users who do not have pipenv installed.
# For this reason, list all dependencies in setup.py

set -euo pipefail
set -x

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
pushd "$DIR"
rm -r build dist
python setup.py sdist bdist_wheel
twine upload dist/*

popd